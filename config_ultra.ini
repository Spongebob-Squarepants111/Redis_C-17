# 超高性能配置 - 目标90K+ QPS
[server]
port = 6379
host = 127.0.0.1
max_events = 16384             # 增加：4096 → 16384
initial_buffer_size = 131072   # 增加：65536 → 131072 (128KB)
max_buffer_size = 524288       # 增加：262144 → 524288 (512KB)  
default_buffer_size = 65536    # 增加：32768 → 65536 (64KB)
client_pool_shards = 64        # 增加：16 → 64
client_shard_count = 128       # 增加：64 → 128
client_parser_shard_count = 64 # 增加：32 → 64
server_cache_line_size = 64
max_accept_per_round = 256     # 增加：64 → 256
max_batch_process = 128        # 增加：32 → 128

[thread_pool]
# 针对128核系统的线程配置
read_threads = 48      # 大幅增加：8 → 48
write_threads = 24     # 增加：4 → 24  
accept_threads = 8     # 增加：2 → 8
command_threads = 32   # 增加：8 → 32

[datastore]
shard_count = 64       # 增加：32 → 64
cache_size = 500000    # 增加：200000 → 500000
enable_compression = false
persist_path = ./data/
sync_interval_sec = 1800      # 增加：600 → 1800 (减少持久化频率)
memory_pool_block_size = 8192 # 增加：4096 → 8192
bucket_per_shard = 16         # 增加：8 → 16
cache_shards = 32             # 增加：16 → 32
cache_policy = LRU
adaptive_cache_sizing = false

[memory_pool]
num_pools = 16        # 增加：8 → 16
max_pool_size = 20000 # 增加：5000 → 20000

[client_context]
max_pool_size = 200   # 增加：50 → 200
initial_buffer_size = 16384    # 增加：8192 → 16384
max_buffer_size = 1048576      # 增加：262144 → 1048576 (1MB)
buffer_grow_factor = 2.0       # 增加：1.5 → 2.0

[adaptive_cache]
min_capacity = 5000      # 增加：1000 → 5000
max_capacity = 2000000   # 增加：500000 → 2000000
adjustment_interval_sec = 300   # 增加：120 → 300
cleanup_threshold = 0.95        # 增加：0.9 → 0.95
cleanup_target = 0.7            # 减少：0.8 → 0.7
