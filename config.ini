[server]
port = 6379
host = 127.0.0.1
max_events = 8192
initial_buffer_size = 65536
max_buffer_size = 262144
default_buffer_size = 32768
client_pool_shards = 64
client_shard_count = 256
client_parser_shard_count = 128
server_cache_line_size = 64
max_accept_per_round = 256
max_batch_process = 128

[thread_pool]
read_threads = 16     # 保守配置：16个读线程
write_threads = 8     # 8个写线程
accept_threads = 4    # 4个accept线程
command_threads = 16  # 16个命令线程

[datastore]
shard_count = 128
cache_size = 200000
enable_compression = false
persist_path = ./data/
sync_interval_sec = 600
memory_pool_block_size = 4096
bucket_per_shard = 16
cache_shards = 32
cache_policy = LRU
adaptive_cache_sizing = true

[memory_pool]
num_pools = 10
max_pool_size = 10000

[client_context]
max_pool_size = 100
initial_buffer_size = 8192
max_buffer_size = 524288
buffer_grow_factor = 1.5

[adaptive_cache]
min_capacity = 1000
max_capacity = 1000000
adjustment_interval_sec = 60
cleanup_threshold = 0.9
cleanup_target = 0.8